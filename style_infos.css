:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  color-scheme: dark;
  background-color: #242424;
}

* { box-sizing: border-box; }
body { margin: 0; min-height: 100vh; }
#app { display: flex; height: 100vh; overflow: hidden; }

#leftPanel {
  width: 280px;
  background-color: #222;
  border-right: 1px solid #444;
  padding: 20px;
  display: flex;
  flex-direction: column;
}

#title { font-family: "Reenie Beanie", cursive; font-size: 3rem; margin: 0; text-align: center; }

.menu-item {
  padding: 10px;
  text-decoration: none;
  color: #ccc;
  display: block;
  transition: 0.2s;
}
.menu-item:hover { background: #444; color: #fff; }

#hero { flex: 1; overflow-y: auto; background-color: #1e1e1e; }
.container { padding: 30px; display: flex; flex-direction: column; gap: 30px; }

.moviesInfos { display: flex; gap: 40px; }
.image_placeholder { width: 250px; flex-shrink: 0; }
.image_placeholder img { width: 100%; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
#titleFilm { font-size: 3rem; font-weight: 800; margin: 0; line-height: 1.1; }
#titleFilm p { margin: 0; }

/* --- AJUSTEMENT HAUTEUR MAXIMUM --- */
#summaryFilm { 
  display: flex; 
  gap: 25px; 
  align-items: stretch; 
  max-height: 600px; /* Limite la hauteur totale de la section bas */
  height: 600px;
}

.leftPanelInfos { 
  flex: 1; 
  display: flex; 
  flex-direction: column; 
  gap: 25px; 
  height: 100%;
}

#IASummary { 
  flex: 1; 
  height: 100%; 
  overflow-y: auto; /* Permet de scroller l'explication IA si elle est longue */
}

.panelInfos {
  background-color: #2a2a2a;
  padding: 25px;
  border-radius: 12px;
  border: 1px solid #3d3d3d;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  overflow-y: auto; /* Active le scroll interne pour toutes les cartes */
}

.panel-title, #IADiv { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; font-weight: bold; }
.ia-icon { width: 20px; height: 20px; }

/* Section Graph : on désactive le scroll interne pour ne pas gêner Cytoscape */
#graph { 
  flex: 1; 
  position: relative; 
  padding: 0; 
  overflow: hidden; 
  background-color: #1a1a1a; 
}
#graph .panel-title { padding: 20px 20px 0 20px; }
#cy-graph { width: 100%; height: 100%; }

#cy-legend {
  position: absolute; bottom: 15px; right: 15px; background: rgba(0,0,0,0.7);
  padding: 10px; border-radius: 8px; font-size: 0.7rem; pointer-events: none;
}
.legend-item { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
.dot { width: 8px; height: 8px; border-radius: 50%; }
.dot.main { background: #e74c3c; border: 1px solid #fff; }
.dot.past { background: #3498db; }
.dot.genre { background: #2ecc71; clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); }
.dot.director { background: #f1c40f; border-radius: 2px; }
.dot.actor { background: #e67e22; }

#cy-loader {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(26,26,26,0.9); display: flex; justify-content: center; align-items: center; z-index: 10;
}
.spinner { width: 30px; height: 30px; border: 3px solid rgba(100,108,255,0.2); border-top-color: #646cff; border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

.genre-bubble {
  background-color: #3b3b3b;
  color: #fff;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.85rem;
  border: 1px solid #555;
  white-space: nowrap;
}
