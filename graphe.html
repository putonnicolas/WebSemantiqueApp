<!--Juste un exemple simple de graphe de films avec Cytoscape.js, fichier à supprimer par la suite-->

<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Graphe de films – Cytoscape.js</title>

  <!-- Cytoscape.js CDN -->
  <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>

  <style>
    body { margin: 0; font-family: Arial, sans-serif; }
    #cy { width: 100vw; height: 100vh; display: block; }
  </style>
</head>

<body>
<div id="cy"></div>

<script>
// ------------------------
// Données du graphe
// ------------------------
const elements = [
  // Nœuds
  { data: { id: '1', label: 'Inception' } },
  { data: { id: '2', label: 'Interstellar' } },
  { data: { id: '3', label: 'The Matrix' } },
  { data: { id: '4', label: 'Tenet' } },

  // Arêtes avec score
  { data: { id: 'e1', source: '1', target: '2', label: '32' } },
  { data: { id: 'e2', source: '1', target: '3', label: '18' } },
  { data: { id: 'e3', source: '1', target: '4', label: '15' } },
  { data: { id: 'e4', source: '2', target: '4', label: '20' } }
];

// ------------------------
// Initialisation Cytoscape
// ------------------------
const cy = cytoscape({
  container: document.getElementById('cy'),
  elements: elements,
  style: [
    {
      selector: 'node',
      style: {
        'content': 'data(label)',
        'text-valign': 'center',
        'text-halign': 'center',
        'background-color': '#4a90e2',
        'color': '#',
        'font-size': 14,
        'width': 40,
        'height': 40
      }
    },
    {
      selector: 'edge',
      style: {
        'curve-style': 'bezier',
        'label': 'data(label)',
        'font-size': 12,
        'text-background-color': '#fff',
        'text-background-opacity': 0.8,
        'line-color': '#ccc',
        'target-arrow-shape': 'triangle',
        'target-arrow-color': '#ccc',
        'width': 2
      }
    }
  ],
  layout: {
    name: 'cose', // layout force-directed
    animate: true
  }
});

// ------------------------
// Interaction clic sur nœud
// ------------------------
cy.on('tap', 'node', function(evt){
  const node = evt.target;
  alert("Film sélectionné : " + node.data('label'));
});
</script>
</body>
</html>
